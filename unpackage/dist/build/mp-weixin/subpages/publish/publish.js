"use strict";const e=require("../../common/vendor.js"),a=require("../../request/index.js");if(!Array){(e.resolveComponent("van-field")+e.resolveComponent("van-cell-group")+e.resolveComponent("van-datetime-picker")+e.resolveComponent("van-popup")+e.resolveComponent("van-button")+e.resolveComponent("van-overlay"))()}const l={__name:"publish",setup(l){const r=e.index.getStorageSync("sessionCookie"),t=e.ref(null);e.onLoad((e=>{t.value=parseInt(e.index),t.value>=8&&(K.value.sex="男")}));const u=e.ref({minDate:(new Date).getTime(),maxDate:new Date("2025/10/1"),minHour:8,maxHour:23}),o=e.ref("请选择送达时间"),d=e.ref(!1),i=e=>{d.value=!1;let a=new Date(e.detail),l=a.getFullYear()+"年"+(a.getMonth()-"0"+1).toString()+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分";o.value=l,y.value=l,I.value=l,T.value=l,S.value=l,j.value=l,K.value.deliveryTime=a.getTime(),K.value.dateTime=a.getTime()},v=()=>{d.value=!1,P(K.value.dateTime||"")},p=e=>{P(e.detail.value),K.value.deliveryId=parseInt(e.detail.value)},n=e=>{P(e.detail.value),K.value.name=e.detail.value},b=e=>{P(e.detail.value),K.value.phoneEnd=e.detail.value},c=e=>{K.value.studentId=e.detail.value},h=e=>{P(e.detail.value),K.value.storeName=e.detail.value},m=e=>{P(e.detail.value),K.value.num=parseInt(e.detail.value)},g=e=>{P(e.detail.value),K.value.deliveryMoney=parseInt(e.detail.value)},s=e=>{P(e.detail.value),K.value.title=e.detail.value},x=e=>{P(e.detail.value),K.value.context=e.detail.value},q=e=>{P(e.detail.value),K.value.runningRange=e.detail.value},y=e.ref("请选择起跑预计时间"),f=e=>{P(e.detail.value),K.value.kg=parseInt(e.detail.value)},I=e.ref("请选择开始预计时间"),D=e=>{P(e.detail.value),K.value.subject=e.detail.value},T=e.ref("请选择上课时间"),w=e=>{P(e.detail.value),K.value.sex=e.detail.value},C=e=>{P(e.detail.value),K.value.dormitoryId=e.detail.value},k=e=>{P(e.detail.value),K.value.roomId=e.detail.value},S=e.ref("请输入查寝时间"),j=e.ref("请选择考试时间"),H=e=>{P(e.detail.value),K.value.score=parseInt(e.detail.value)},M=e=>{P(e.detail.value),K.value.address=e.detail.value},O=e=>{P(e.detail.value),K.value.money=parseInt(e.detail.value)},z=e=>{K.value.content=e.detail.value},N=e.ref(!1),P=e=>{0==e.trim().length||null==e?N.value=!1:N.value=!0},A=e.ref(!1),E=()=>{A.value=!1},F=e.ref(!1),J=e.ref(""),K=e.ref({}),L=async()=>{N.value?await a.request({url:"submitOrder/add",method:"POST",data:{content:JSON.stringify(K.value),id:"",schoolId:1,submit_index:t.value},header:{"content-type":"application/json",Cookie:r}}).then((a=>{0==a.data.code?(J.value="发布成功",F.value=!0,setTimeout((()=>{F.value=!1,e.index.switchTab({url:"/pages/index/index"})}),3e3)):(J.value="请填写必要信息",F.value=!0,setTimeout((()=>{F.value=!1}),800))})):A.value=!0};return(a,l)=>e.e({a:1==t.value},1==t.value?{b:e.o(p),c:e.p({type:"number",required:!0,clearable:!0,label:"快递号",placeholder:"请输入快递号"}),d:e.o(M),e:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0}),f:e.t(o.value),g:e.o((e=>d.value=!0)),h:e.o(O),i:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:2==t.value?{k:e.o(n),l:e.p({required:!0,clearable:!0,label:"姓名",maxlength:6,placeholder:"请输入取外卖姓名"}),m:e.o(b),n:e.p({required:!0,clearable:!0,label:"手机号后4位",type:"number",maxlength:4,placeholder:"请输入手机号后4位"}),o:e.o(M),p:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0}),q:e.t(o.value),r:e.o((e=>d.value=!0)),s:e.o(O),t:e.p({label:"酬金",type:"number",placeholder:"请输入酬金额度",required:!0})}:3==t.value?{w:e.o(n),x:e.p({required:!0,clearable:!0,label:"姓名",maxlength:6,placeholder:"请输入姓名"}),y:e.o(c),z:e.p({clearable:!0,label:"学号",maxlength:18,placeholder:"请输入学号"}),A:e.o(M),B:e.p({label:"地址",placeholder:"请输入交付地址",maxlength:16,required:!0}),C:e.t(o.value),D:e.o((e=>d.value=!0)),E:e.o(O),F:e.p({label:"酬金",type:"number",placeholder:"请输入酬金额度",required:!0})}:4==t.value?{H:e.o(h),I:e.p({required:!0,clearable:!0,label:"商品名称",maxlength:18,placeholder:"请输入商品名称"}),J:e.o(m),K:e.p({required:!0,clearable:!0,label:"商品数量",type:"digit",maxlength:3,placeholder:"请输入商品数量"}),L:e.o(g),M:e.p({required:!0,clearable:!0,label:"酬金",type:"digit",maxlength:3,placeholder:"请输入酬金金额"}),N:e.t(o.value),O:e.o((e=>d.value=!0)),P:e.o(M),Q:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0})}:5==t.value?{S:e.o(s),T:e.p({required:!0,clearable:!0,label:"标题",maxlength:18,placeholder:"例:打水"}),U:e.o(x),V:e.p({required:!0,clearable:!0,label:"具体细节",maxlength:25,placeholder:""}),W:e.o(O),X:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0}),Y:e.t(I.value),Z:e.o((e=>d.value=!0)),aa:e.o(M),ab:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0})}:6==t.value?{ad:e.o(q),ae:e.p({required:!0,clearable:!0,label:"跑步距离",maxlength:10,placeholder:"例:800米"}),af:e.t(y.value),ag:e.o((e=>d.value=!0)),ah:e.o(M),ai:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0}),aj:e.o(O),ak:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:7==t.value?{am:e.o(f),an:e.p({required:!0,clearable:!0,label:"Kg",maxlength:3,placeholder:"单位kg默认为kg",type:"number"}),ao:e.t(I.value),ap:e.o((e=>d.value=!0)),aq:e.o(M),ar:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0}),as:e.o(O),at:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:8==t.value?{aw:e.o(D),ax:e.p({required:!0,clearable:!0,label:"科目",maxlength:16,placeholder:"请输入上课科目"}),ay:e.o(M),az:e.p({label:"地址",placeholder:"请输入地址",maxlength:16,required:!0}),aA:e.t(T.value),aB:e.o((e=>d.value=!0)),aC:e.o(w),aD:e.o(O),aE:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:9==t.value?{aG:e.o(C),aH:e.p({required:!0,clearable:!0,label:"宿舍楼号",maxlength:10,placeholder:"请输入宿舍楼号"}),aI:e.o(k),aJ:e.p({required:!0,clearable:!0,label:"房间号",maxlength:10,placeholder:"请输入房间号"}),aK:e.t(S.value),aL:e.o((e=>d.value=!0)),aM:e.o(w),aN:e.o(O),aO:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:10==t.value?{aQ:e.o(D),aR:e.p({required:!0,clearable:!0,label:"科目",maxlength:10,placeholder:"请输入考试科目"}),aS:e.o(M),aT:e.p({required:!0,clearable:!0,label:"考试地点",maxlength:20,placeholder:"请输入考试地点"}),aU:e.t(j.value),aV:e.o((e=>d.value=!0)),aW:e.o(H),aX:e.p({required:!0,clearable:!0,label:"预期分数",maxlength:2,type:"number",placeholder:"请输入预期分数"}),aY:e.o(w),aZ:e.o(O),ba:e.p({label:"酬金",type:"digit",placeholder:"请输入酬金额度",required:!0})}:{},{j:2==t.value,v:3==t.value,G:4==t.value,R:5==t.value,ac:6==t.value,al:7==t.value,av:8==t.value,aF:9==t.value,aP:10==t.value,bb:e.o(z),bc:e.p({label:"备注",placeholder:"请输入备注信息50字以内",maxlength:50,type:"textarea"}),bd:e.o(i),be:e.o(v),bf:e.p({type:"datetime",minDate:u.value.minDate,maxDate:u.value.maxDate,minHour:u.value.minHour}),bg:e.p({show:d.value,round:!0,position:"bottom",customStyle:"height: 40%"}),bh:e.o(E),bi:e.p({type:"primary",size:"large",round:!0,color:"linear-gradient(to right, #ff2950, #f64a06)"}),bj:e.p({show:A.value}),bk:e.t(J.value),bl:e.p({show:F.value}),bm:e.o(L),bn:e.p({type:"primary",round:!0,size:"large"})})}};wx.createPage(l);
